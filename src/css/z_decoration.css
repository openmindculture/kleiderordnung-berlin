html {
  /* parallax perspective effects */
  height: 100%;
  overflow: hidden;
}

body {
  background-color: var(--color-primary-background);
  color: var(--color-primary-foreground);
  /* parallax perspective effects */
  height: 100%;
  overflow-x: hidden;
  overflow-y: scroll;
  transform-style: preserve-3d;
  perspective: 1px;
  perspective-origin: 0 0;
}

body.page.home main { /* decoration-parallax-group */
  position: relative;
  transform-style: inherit;
}

/* ensure foreground and following sections stay in front of the decoration layer */
body.page.home main > section,
body.page.home main > div,
body.page.home footer {
  position: relative;
  z-index: 2;
}

body.page.home main::after { /* decoration-parallax-layer-background */
  border: solid 3px red; /* TODO remove debug style */ /* optional debug border */
  top: 180vh; /* todo adjust, and optionally fine-tune, using JS measurements */
  top: 0;
  height: 3000px;  /* todo adjust, and optionally fine-tune, using JS measurements */
  width: auto;
  transform-origin: center left;
  transform-origin: top left;
  /* TODO
      selbst top: 0; transform-origin: top left; garantiert nicht, dass die Dekoration ganz oben anfängt, sondern sie ragt über ihren Container hinaus!
      */
  transform: translateZ(-1px) scale(2);
  content: "";
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  overflow: hidden;
  pointer-events: none;
  z-index: 1;
  background-repeat:
    no-repeat,
    no-repeat,
    no-repeat,
    no-repeat,
    no-repeat,
    no-repeat;
  background-image:
    var(--background-image-pita),
    var(--background-image-salmon),
    var(--background-image-lilac),
    var(--background-image-bluedots),
    var(--background-image-apricot),
    var(--background-image-salmon2);
  background-position:
    100% 0%,
    0% 400px,
    120% 1000px,
    20% 1000px,
    0% 1200px,
    120% 1400px;
  background-size:
    500px auto,
    40% 40%,
    40% 40%,
    100px auto,
    30% 30%,
    30% 30%;
}

@media (prefers-reduced-motion) {
  body.page.home main::after {
    transform: translateZ(0);
  }
}

/* TODO adjust and re-activate (14000 => 1400, 20000 => 2200) if needed */
@media (min-width: 14000px) {
  body.page.home main::after {
    width: auto;
    max-width: 100%;
    max-width: 100vw;
    max-width: min(100vw, 162.5rem);
    margin-left: calc(-0.6 * (100vw - 1400px));
    margin-right: calc(-0.6 * (100vw - 1400px));
    background-position:
      120% 10px,
      -20% 200px,
      120% 400px,
      20% 600px,
      -20% 610px,
      120% 800px;
    background-size:
      40% 40%,
      40% 40%,
      40% 40%,
      40% 40%,
      40% 40%,
      40% 40%;
  }
}

@media (min-width: 22000px) {
  body.page.home main::after {
    margin-left: -43.75rem;
    margin-right: -43.75rem;
    background-position:
      120% 10px,
      -20% 200px,
      120% 400px,
      20% 600px,
      -20% 610px,
      120% 800px;
    background-size:
      40% 40%,
      40% 40%,
      40% 40%,
      40% 40%,
      40% 40%,
      40% 40%;
  }
}
