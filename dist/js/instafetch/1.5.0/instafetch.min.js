!function e(t,n,o){function r(c,a){if(!n[c]){if(!t[c]){var u="function"==typeof require&&require;if(!a&&u)return u(c,!0);if(i)return i(c,!0);var l=new Error("Cannot find module '"+c+"'");throw l.code="MODULE_NOT_FOUND",l}var s=n[c]={exports:{}};t[c][0].call(s.exports,function(e){var n=t[c][1][e];return r(n||e)},s,s.exports,e,t,n,o)}return n[c].exports}for(var i="function"==typeof require&&require,c=0;c<o.length;c++)r(o[c]);return r}({1:[function(e,t,n){!function(e,o){if("function"==typeof define&&define.amd)define(["exports","module"],o);else if(void 0!==n&&void 0!==t)o(n,t);else{var r={exports:{}};o(r.exports,r),e.fetchJsonp=r.exports}}(this,function(e,t){"use strict";var n={timeout:5e3,jsonpCallback:"callback",jsonpCallbackFunction:null};function o(e){try{delete window[e]}catch(t){window[e]=void 0}}function r(e){var t=document.getElementById(e);t&&document.getElementsByTagName("head")[0].removeChild(t)}t.exports=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=e,c=t.timeout||n.timeout,a=t.jsonpCallback||n.jsonpCallback,u=void 0;return new Promise(function(n,l){var s=t.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),f=a+"_"+s;window[s]=function(e){n({ok:!0,json:function(){return Promise.resolve(e)}}),u&&clearTimeout(u),r(f),o(s)},i+=-1===i.indexOf("?")?"?":"&";var d=document.createElement("script");d.setAttribute("src",""+i+a+"="+s),t.charset&&d.setAttribute("charset",t.charset),d.id=f,document.getElementsByTagName("head")[0].appendChild(d),u=setTimeout(function(){l(new Error("JSONP request to "+e+" timed out")),o(s),r(f),window[s]=function(){o(s)}},c),d.onerror=function(){l(new Error("JSONP request to "+e+" failed")),o(s),r(f),u&&clearTimeout(u)}})}})},{}],2:[function(e,t,n){"use strict";var o=setTimeout;function r(){}function i(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,s._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var o;try{o=n(e._value)}catch(e){return void a(t.promise,e)}c(t.promise,o)}else(1===e._state?c:a)(t.promise,e._value)})):e._deferreds.push(t)}function c(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof s)return e._state=3,e._value=t,void u(e);if("function"==typeof n)return void l((o=n,r=t,function(){o.apply(r,arguments)}),e)}e._state=1,e._value=t,u(e)}catch(t){a(e,t)}var o,r}function a(e,t){e._state=2,e._value=t,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&s._immediateFn(function(){e._handled||s._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)i(e,e._deferreds[t]);e._deferreds=null}function l(e,t){var n=!1;try{e(function(e){n||(n=!0,c(t,e))},function(e){n||(n=!0,a(t,e))})}catch(e){if(n)return;n=!0,a(t,e)}}function s(e){if(!(this instanceof s))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(e,this)}var f=s.prototype;f.catch=function(e){return this.then(null,e)},f.then=function(e,t){var n=new this.constructor(r);return i(this,new function(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}(e,t,n)),n},s.all=function(e){return new s(function(t,n){if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var o=Array.prototype.slice.call(e);if(0===o.length)return t([]);var r=o.length;function i(e,c){try{if(c&&("object"==typeof c||"function"==typeof c)){var a=c.then;if("function"==typeof a)return void a.call(c,function(t){i(e,t)},n)}o[e]=c,0==--r&&t(o)}catch(e){n(e)}}for(var c=0;c<o.length;c++)i(c,o[c])})},s.resolve=function(e){return e&&"object"==typeof e&&e.constructor===s?e:new s(function(t){t(e)})},s.reject=function(e){return new s(function(t,n){n(e)})},s.race=function(e){return new s(function(t,n){for(var o=0,r=e.length;o<r;o++)e[o].then(t,n)})},s._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){o(e,0)},s._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},t.exports=s},{}],3:[function(e,t,n){"use strict";var o=i(e("promise-polyfill")),r=i(e("fetch-jsonp"));function i(e){return e&&e.__esModule?e:{default:e}}var c={},a=!!document.querySelector&&!!document.addEventListener,u=void 0,l=void 0,s=void 0,f=void 0,d=void 0,p=void 0,m=void 0,h=void 0,v=void 0,y={accessToken:null,target:"instafetch",numOfPics:20,caption:!1},_=function(e,t,n){if("[object Object]"===Object.prototype.toString.call(e))for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(n,e[o],o,e);else for(var r=0,i=e.length;r<i;r++)t.call(n,e[r],r,e)},w=function(e,t){(s=document.getElementById(t.target))?e.data.forEach(function(e){f=document.createElement("article"),(d=document.createElement("a")).href=e.link,d.target="_blank",p=document.createElement("figure"),(m=document.createElement("img")).src=e.images.standard_resolution.url,p.appendChild(m),d.appendChild(p),f.appendChild(d),t.caption&&e.caption&&(h=document.createElement("div"),(v=document.createElement("p")).innerHTML=e.caption.text,h.appendChild(v),d.appendChild(h)),s.appendChild(f)}):console.error('No element with id="'+t.target+'" was found on the page.')};c.destroy=function(){u&&(u=null,null,l=null,s=null,f=null,d=null,p=null,m=null,h=null,v=null)},c.init=function(e){if(a){c.destroy(),u=function(e,t){var n={};return _(e,function(t,o){n[o]=e[o]}),_(t,function(e,o){n[o]=t[o]}),n}(y,e||{});var t;("string"!=typeof(t=u).accessToken?(console.error("accessToken must be a string."),!1):"string"!=typeof t.target?(console.error("target must be a string."),!1):"number"!=typeof t.numOfPics?(console.error("numOfPics must be a number."),!1):"boolean"==typeof t.caption||(console.error("caption must be a boolean."),!1))&&(l="https://api.instagram.com/v1/users/self/media/recent/?access_token="+(n=u).accessToken+"&count="+n.numOfPics+"&callback=?",window.Promise||(window.Promise=o.default),(0,r.default)(l).then(function(e){return e.json()}).then(function(e){200===e.meta.code?w(e,n):console.error(e.meta.error_message)}).catch(function(e){console.error(e)}));var n}},window.instafetch=c},{"fetch-jsonp":1,"promise-polyfill":2}]},{},[3]);
